{% extends 'base.html.twig' %}
{% block title %}
    Ajout d'un nouveau contact
{% endblock %}
{% block stylesheets %}
    <!-- our project just needs Font Awesome Solid + Brands it's FREE icons-->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-table@1.23.5/dist/bootstrap-table.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link href="public/fontawesome/css/fontawesome.min.css" rel="stylesheet" />
    <link href="public/fontawesome/css/brands.min.css" rel="stylesheet" />
    <link href="public/fontawesome/css/solid.min.css" rel="stylesheet" />
{% endblock %}
{% block javascripts %}
        <script src="https://cdn.jsdelivr.net/npm/jquery/dist/jquery.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap-table@1.23.5/dist/bootstrap-table.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap-table@1.23.5/dist/extensions/filter-control/bootstrap-table-filter-control.min.js"></script>
        <script src="public/js/filterFunction.js"></script>
        <script src="public/js/editEquipmentInModal.js"></script>
        <script src="public/js/getImagesFromIdEquipement.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js" integrity="sha384-0pUGZvbkm6XF6gxjEnlmuGrJXVbNuzT9qBBavbLwCsOGabYfZo0T0to5eqruptLy" crossorigin="anonymous"></script>
{% endblock %}
{% block body %}
    <h1>Ajout d'un Contact</h1>
    {% if agenceSelectionnee is not null %}
    <form method="post">
        <label for="agence">Agence :</label>
        <select name="agence" id="agence">
            <option value="">Sélectionnez une agence</option>
            {% for key, agence in agences %}
                <option value="{{ agence }}" {{ app.request.request.get('agence') == key ? 'selected' : '' }}>{{ agence }}</option>
            {% endfor %}
        </select>
        <br>
        <button type="submit"  name ="submit_agence" class="btn btn-primary">Valider</button>
    </form>
    {% endif %}
    {% if agenceSelectionnee %}
        <p>Agence sélectionnée : {{ agenceSelectionnee }}</p>
        <form>
            <label for="contact">Contact :</label>
            <select name="contact" id="contact">
                <option value="">Sélectionnez un contact</option>
                {% for id, nom in contact %}
                    <option value="{{ id }}" {{ app.request.request.get('contact') == id ? 'selected' : '' }}>{{ nom }}</option>
                {% endfor %}
            </select>
        {% endif %}

        {% if contact %}
            <label for="Raison_sociale">Raison sociale :</label>
            <input class="form-control" style="width:85%" type="text" id="raison_sociale" name="raison_sociale">
        </form>
    {% endif %}
    
{% endblock %}